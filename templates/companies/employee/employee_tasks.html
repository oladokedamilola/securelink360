{% extends "dashboard_base.html" %}
{% block content %}
<div class="container">
  <h2>My Tasks</h2>
  <table class="table table-hover">
    <thead>
      <tr><th>Description</th><th>Due Date</th><th>Status</th><th>Action</th></tr>
    </thead>
    <tbody>
      {% for task in tasks %}
        <tr>
          <td>{{ task.description }}</td>
          <td>{{ task.due_date|date:"M d, Y" }}</td>
          <td>
            {% if task.completed %}
              <span class="badge bg-success">Completed</span>
            {% else %}
              <span class="badge bg-warning text-dark">Pending</span>
            {% endif %}
          </td>
          <td>
            {% if not task.completed %}
              <form method="post" action="{% url 'complete_task' task.id %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-sm btn-outline-success">Mark Done</button>
              </form>
            {% endif %}
          </td>
        </tr>
      {% empty %}
        <tr><td colspan="4" class="text-muted">No tasks assigned yet.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
